# =====================================================
# Copyright 2025 Focason Co.,Ltd. AllRights Reserved.
# =====================================================

# -----------------------------------------------------
# 1. Spring Boot Configuration
# -----------------------------------------------------
server:
  port: ${SERVER_PORT:8080}                                          # Service port number
  address: 0.0.0.0                                                   # Server binding address (all network interfaces)
  servlet:
    context-path: /gateway                                           # Application context path

spring:
  # Spring Application Configuration
  application:
    name: ${APPLICATION_NAME:focason-gateway}                        # Application name
  # Spring Main Configuration
  main:
    allow-bean-definition-overriding: true                           # Allow bean definition overriding
    allow-circular-references: true                                  # Allow circular bean references in Cloud components
    web-application-type: reactive                                   # Application type (reactive web application)
  # Spring Cloud Config Client Configuration
  cloud:
    config:
      name: ${CLOUD_CONFIG_NAME:focason-gateway}                     # Configuration file name in config server
      label: ${GITHUB_BRANCH:main}                                   # Git branch for configuration
      profile: ${GITHUB_PROFILE:default}                             # Spring profile for configuration
      discovery:
        enabled: true                                                # Enable service discovery for config server
        service-id: ${CONFIG_SERVICE_ID:focason-config-server}       # Config server service ID

# ----------------------------------------------------
# 2. Spring Cloud Service Discovery (Eureka) Configuration
# ----------------------------------------------------
eureka:
  instance:
    hostname: ${INSTANCE_HOSTNAME:localhost}                         # Gateway instance hostname
  client:
    service-url:
      defaultZone: http://${EUREKA_HOSTNAME:localhost}:8761/eureka/  # Eureka server URL for registration