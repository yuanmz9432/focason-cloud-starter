# =====================================================
# Copyright 2025 Focason Co.,Ltd. AllRights Reserved.
# =====================================================

# -----------------------------------------------------
# 1. Spring Boot Configuration
# -----------------------------------------------------
server:
  port: ${SERVER_PORT:8081}                                          # The server port for this service
  address: 0.0.0.0                                                   # Binds to all network interfaces

spring:
  # Spring Application Configuration
  application:
    name: ${APPLICATION_NAME:focason-platform-service}               # Application name (used in Eureka/Config Server)
  # Spring Main Configuration
  main:
    allow-bean-definition-overriding: true                           # Allows redefining bean definitions
    allow-circular-references: true                                  # Allows circular dependency injection
  # Spring Cloud Config Client Configuration
  cloud:
    config:
      name: ${CLOUD_CONFIG_NAME:focason-platform-service}            # Name of the configuration file to fetch
      label: ${GITHUB_BRANCH:main}                                   # Git branch label (e.g., main, dev)
      profile: ${GITHUB_PROFILE:default}                             # Profile to load (e.g., dev, prod)
      discovery:
        enabled: true                                                # Enable discovery service lookup for Config Server
        service-id: ${CONFIG_SERVICE_ID:focason-config-server}       # Config Server service ID

# ----------------------------------------------------
# 2. Spring Cloud Service Discovery (Eureka) Configuration
# ----------------------------------------------------
eureka:
  instance:
    hostname: ${INSTANCE_HOSTNAME:localhost}                         # Hostname used for registration
  client:
    service-url:
      # Eureka Server registration URL, including basic auth credentials
      defaultZone: http://${EUREKA_HOSTNAME:localhost}:8761/eureka/  # Eureka server URL for registration